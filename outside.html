<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>SR Outside Screen</title>

        <script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>

        <link rel="import" href="components/sr-comp/component.html" />
        <link rel="import" href="components/sr-clock/component.html" />
        <link rel="import" href="components/sr-progress/component.html" />
        <link rel="import" href="components/sr-schedule/component.html" />
        <link rel="import" href="components/sr-leaderboard/component.html" />
        <link rel="import" href="components/sr-scores/component.html" />
        <link rel="import" href="components/sr-knockout-diagram/component.html" />

        <style>
            body {
                position: fixed;
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                bottom: 0;
                right: 0;
                margin: 0;

                font-family: 'Open Sans', sans-serif;
                background: black;
                color: white;

                display: flex;
                flex-direction: column;
            }

            body > main {
                flex: 1 1 auto;
                overflow: auto;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }

            body > sr-progress {
                flex: 0 0 auto;
            }
        </style>
    </head>

    <body>
        <sr-comp id="comp" apiurl="http://localhost:5112" streamurl="http://localhost:5001"></sr-comp>

        <main>
            <!-- <sr-schedule id="schedule" data-needs-comp></sr-schedule> -->
            <!-- <sr-leaderboard id="leaderboard" data-needs-comp></sr-leaderboard> -->
            <!-- <sr-scores id="scores" data-needs-comp></sr-scores> -->
            <sr-knockout-diagram data-needs-comp></sr-knockout-diagram>
        </main>

        <sr-progress id="progress" style="display: flex; border-top: 1px solid rgb(100, 100, 100);">
            <h1 style="margin: 0.3em; flex: 1 1 auto;">Knockout Diagram</h1>
            <sr-clock style="margin: 0.3em;"></sr-clock>
        </sr-progress>

        <script>
            document.addEventListener('polymer-ready', function() {
                var comp = document.querySelector('#comp');
                var needsComp = document.querySelectorAll('[data-needs-comp]');
                for (var i = 0; i < needsComp.length; i++) {
                    needsComp[i].comp = comp;
                }
            });

            var progress = document.querySelector('#progress');
            setInterval(function() {
                progress.progress += 0.001;
                if (progress.progress >= 1) {
                    progress.progress = 0;
                }
            }, 50);
        </script>
    </body>
</html>
